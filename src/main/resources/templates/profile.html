<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" th:replace="~{layout :: layout(~{::title}, ~{::main})}">

<head>
	<title>Profile</title>
</head>

<body class="d-flex flex-column justify-content-between align-items-center" style="height: 100vh; width: 100vw;">
	<main>
		<div class="container">
			<label th:if="${param.passwordChanged}"
				class="alert alert-success alert-dismissible fade show w-100 cursor-pointer"
				role="alert">
				Your password has been successfully changed.
				<button type="button" class="btn-close" data-bs-dismiss="alert"
					aria-label="Close"></button>
			</label>

			<div class="card bg-light">
				<div class="card-body">
					<h2 class="card-title">Welcome, <span th:text="${user.username}">User</span>
					</h2>
				</div>

				<ul class="list-group list-group-flush">
					<li class="list-group-item">Role <span th:text="${user.role}">USER</span></li>
					<li class="list-group-item">Email: <span
							th:text="${user.email}">email@example.com</span></li>
				</ul>

				<div class="card-body">
					<a href="/profile/edit" class="btn btn-secondary">Edit Account</a>
					<a href="/profile/change-password" class="btn btn-warning">Change Password</a>
					<a href="/profile/delete" class="btn btn-danger">Delete Account</a>
					<form th:action="@{/logout}" method="post" class="d-inline">
						<input type="hidden" th:name="${_csrf.parameterName}"
							th:value="${_csrf.token}" />
						<button type="submit" class="btn btn-danger">Logout</button>
					</form>
				</div>
			</div>
		</div>
	</main>
</body>

</html>
